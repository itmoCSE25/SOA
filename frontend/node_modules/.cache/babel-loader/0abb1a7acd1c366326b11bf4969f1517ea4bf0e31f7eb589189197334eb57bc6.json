{"ast":null,"code":"var _jsxFileName = \"/Users/irinaabakumova/Downloads/db-course-front/db-course-front/src/components/Login.tsx\",\n  _s = $RefreshSig$();\n//import {useId, useState} from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Form } from './Form';\nimport '../App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const navigate = useNavigate();\n  const handleLogin = async (email, password) => {\n    try {\n      const response = await fetch('http://localhost:8080/user/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        },\n        body: JSON.stringify({\n          email: email,\n          password: password\n        })\n      });\n      const user = await response.json();\n      if (response.ok) {\n        if (user.userId === 2 || user.userId === null) {\n          navigate('/home');\n        } else if (user.userId === 1) {\n          navigate('/homeAdmin');\n        }\n        console.log(user);\n      } else {\n        console.error('Invalid user!');\n      }\n    } catch (error) {\n      console.error('Error during login:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Form, {\n    title: \"sign in\",\n    handleClick: handleLogin\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 12\n  }, this);\n};\n_s(Login, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport { Login };\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useNavigate","Form","jsxDEV","_jsxDEV","Login","_s","navigate","handleLogin","email","password","response","fetch","method","headers","body","JSON","stringify","user","json","ok","userId","console","log","error","title","handleClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/irinaabakumova/Downloads/db-course-front/db-course-front/src/components/Login.tsx"],"sourcesContent":["//import {useId, useState} from 'react';\nimport {useNavigate} from 'react-router-dom';\nimport {Form} from './Form';\nimport '../App.css';\n\ninterface User {\n    userId: string;\n}\n\nconst Login = () => {\n    const navigate = useNavigate();\n\n    const handleLogin = async (email: string, password: string) => {\n\n        try {\n\n            const response = await fetch('http://localhost:8080/user/login', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Accept': 'application/json',\n                },\n                body: JSON.stringify({\n                    email: email,\n                    password: password,\n                })\n\n            });\n            const user = await response.json();\n\n            if (response.ok) {\n\n                if (user.userId === 2 || user.userId === null) {\n\n                    navigate('/home');\n                }\n                else if(user.userId === 1){\n                    navigate('/homeAdmin');\n                }\n                console.log(user);\n            } else {\n                console.error('Invalid user!');\n            }\n        } catch (error) {\n            console.error('Error during login:', error);\n        }\n    };\n\n    return <Form title=\"sign in\" handleClick={handleLogin}/>;\n};\n\nexport {Login};\n"],"mappings":";;AAAA;AACA,SAAQA,WAAW,QAAO,kBAAkB;AAC5C,SAAQC,IAAI,QAAO,QAAQ;AAC3B,OAAO,YAAY;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAMpB,MAAMC,KAAK,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAChB,MAAMC,QAAQ,GAAGN,WAAW,CAAC,CAAC;EAE9B,MAAMO,WAAW,GAAG,MAAAA,CAAOC,KAAa,EAAEC,QAAgB,KAAK;IAE3D,IAAI;MAEA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,kCAAkC,EAAE;QAC7DC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACL,cAAc,EAAE,kBAAkB;UAClC,QAAQ,EAAE;QACd,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACjBR,KAAK,EAAEA,KAAK;UACZC,QAAQ,EAAEA;QACd,CAAC;MAEL,CAAC,CAAC;MACF,MAAMQ,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;MAElC,IAAIR,QAAQ,CAACS,EAAE,EAAE;QAEb,IAAIF,IAAI,CAACG,MAAM,KAAK,CAAC,IAAIH,IAAI,CAACG,MAAM,KAAK,IAAI,EAAE;UAE3Cd,QAAQ,CAAC,OAAO,CAAC;QACrB,CAAC,MACI,IAAGW,IAAI,CAACG,MAAM,KAAK,CAAC,EAAC;UACtBd,QAAQ,CAAC,YAAY,CAAC;QAC1B;QACAe,OAAO,CAACC,GAAG,CAACL,IAAI,CAAC;MACrB,CAAC,MAAM;QACHI,OAAO,CAACE,KAAK,CAAC,eAAe,CAAC;MAClC;IACJ,CAAC,CAAC,OAAOA,KAAK,EAAE;MACZF,OAAO,CAACE,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;IAC/C;EACJ,CAAC;EAED,oBAAOpB,OAAA,CAACF,IAAI;IAACuB,KAAK,EAAC,SAAS;IAACC,WAAW,EAAElB;EAAY;IAAAmB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAC,CAAC;AAC5D,CAAC;AAACxB,EAAA,CAxCID,KAAK;EAAA,QACUJ,WAAW;AAAA;AAAA8B,EAAA,GAD1B1B,KAAK;AA0CX,SAAQA,KAAK;AAAE,IAAA0B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}