{"ast":null,"code":"var _jsxFileName = \"/Users/irinaabakumova/Downloads/Laba/frontend/src/Components/GetGovernmentButton.tsx\",\n  _s = $RefreshSig$();\nimport * as React from 'react';\nimport Button from '@mui/material/Button';\nimport Stack from '@mui/material/Stack';\nimport { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GetGovernmentButton = ({\n  inputValue,\n  onCityUpdate\n}) => {\n  _s();\n  const [cities, setCities] = useState([]);\n  const handleButtonClick = async () => {\n    try {\n      const response = await fetch(`https://localhost:7171/soa-service/api/external/government?type=${inputValue}`);\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      const xmlText = await response.text();\n      const parser = new DOMParser();\n      const xmlDoc = parser.parseFromString(xmlText, \"text/xml\");\n      const ids = xmlDoc.getElementsByTagName(\"id\");\n      const n = ids.length;\n      for (var i = 0; i < n; i++) {\n        var _xmlDoc$getElementsBy, _xmlDoc$getElementsBy2, _xmlDoc$getElementsBy3, _xmlDoc$getElementsBy4, _xmlDoc$getElementsBy5, _xmlDoc$getElementsBy6, _xmlDoc$getElementsBy7, _xmlDoc$getElementsBy8, _xmlDoc$getElementsBy9, _xmlDoc$getElementsBy10, _xmlDoc$getElementsBy11, _xmlDoc$getElementsBy12;\n        const city = {\n          id: ((_xmlDoc$getElementsBy = xmlDoc.getElementsByTagName(\"id\")[i]) === null || _xmlDoc$getElementsBy === void 0 ? void 0 : _xmlDoc$getElementsBy.textContent) || '',\n          name: ((_xmlDoc$getElementsBy2 = xmlDoc.getElementsByTagName(\"name\")[i]) === null || _xmlDoc$getElementsBy2 === void 0 ? void 0 : _xmlDoc$getElementsBy2.textContent) || '',\n          coordinates: {\n            x: ((_xmlDoc$getElementsBy3 = xmlDoc.getElementsByTagName(\"x\")[i]) === null || _xmlDoc$getElementsBy3 === void 0 ? void 0 : _xmlDoc$getElementsBy3.textContent) || '0',\n            y: ((_xmlDoc$getElementsBy4 = xmlDoc.getElementsByTagName(\"y\")[i]) === null || _xmlDoc$getElementsBy4 === void 0 ? void 0 : _xmlDoc$getElementsBy4.textContent) || '0'\n          },\n          creationDate: new Date(xmlDoc.getElementsByTagName(\"creationDate\")[i].textContent || 0),\n          area: ((_xmlDoc$getElementsBy5 = xmlDoc.getElementsByTagName(\"area\")[i]) === null || _xmlDoc$getElementsBy5 === void 0 ? void 0 : _xmlDoc$getElementsBy5.textContent) || '0',\n          population: ((_xmlDoc$getElementsBy6 = xmlDoc.getElementsByTagName(\"population\")[i]) === null || _xmlDoc$getElementsBy6 === void 0 ? void 0 : _xmlDoc$getElementsBy6.textContent) || '0',\n          metersAboveSeaLevel: ((_xmlDoc$getElementsBy7 = xmlDoc.getElementsByTagName(\"metersAboveSeaLevel\")[i]) === null || _xmlDoc$getElementsBy7 === void 0 ? void 0 : _xmlDoc$getElementsBy7.textContent) || '0',\n          establishmentDate: new Date(((_xmlDoc$getElementsBy8 = xmlDoc.getElementsByTagName(\"establishmentDate\")[i]) === null || _xmlDoc$getElementsBy8 === void 0 ? void 0 : _xmlDoc$getElementsBy8.textContent) || 0),\n          capital: ((_xmlDoc$getElementsBy9 = xmlDoc.getElementsByTagName(\"capital\")[i]) === null || _xmlDoc$getElementsBy9 === void 0 ? void 0 : _xmlDoc$getElementsBy9.textContent) === 'true',\n          government: ((_xmlDoc$getElementsBy10 = xmlDoc.getElementsByTagName(\"government\")[i]) === null || _xmlDoc$getElementsBy10 === void 0 ? void 0 : _xmlDoc$getElementsBy10.textContent) || '',\n          governor: {\n            height: ((_xmlDoc$getElementsBy11 = xmlDoc.getElementsByTagName(\"height\")[i]) === null || _xmlDoc$getElementsBy11 === void 0 ? void 0 : _xmlDoc$getElementsBy11.textContent) || '0',\n            birthday: new Date(((_xmlDoc$getElementsBy12 = xmlDoc.getElementsByTagName(\"birthday\")[i]) === null || _xmlDoc$getElementsBy12 === void 0 ? void 0 : _xmlDoc$getElementsBy12.textContent) || 0)\n          },\n          human: Array.from(xmlDoc.getElementsByTagName(\"inhabitant\")).map(humanElement => {\n            var _humanElement$getElem, _humanElement$getElem2;\n            return {\n              height: ((_humanElement$getElem = humanElement.getElementsByTagName(\"height\")[0]) === null || _humanElement$getElem === void 0 ? void 0 : _humanElement$getElem.textContent) || '0',\n              birthday: new Date(((_humanElement$getElem2 = humanElement.getElementsByTagName(\"birthday\")[0]) === null || _humanElement$getElem2 === void 0 ? void 0 : _humanElement$getElem2.textContent) || 0)\n            };\n          })\n        };\n        setCities(prev => [...prev, ...[city]]);\n      }\n      ;\n      onCityUpdate(cities);\n    } catch (error) {\n      console.error('Error fetching city data:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Stack, {\n    direction: \"row\",\n    spacing: 2,\n    children: /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"outlined\",\n      onClick: handleButtonClick,\n      children: \"\\u0413\\u043E\\u0440\\u043E\\u0434\\u0430 c government \\u043C\\u0435\\u043D\\u044C\\u0448\\u0435 \\u0437\\u0430\\u0434\\u0430\\u043D\\u043D\\u043E\\u0433\\u043E\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n_s(GetGovernmentButton, \"f1nPJs+hrTaAy6BEqAnKgJLvJt4=\");\n_c = GetGovernmentButton;\nexport default GetGovernmentButton;\nvar _c;\n$RefreshReg$(_c, \"GetGovernmentButton\");","map":{"version":3,"names":["React","Button","Stack","useState","jsxDEV","_jsxDEV","GetGovernmentButton","inputValue","onCityUpdate","_s","cities","setCities","handleButtonClick","response","fetch","ok","Error","xmlText","text","parser","DOMParser","xmlDoc","parseFromString","ids","getElementsByTagName","n","length","i","_xmlDoc$getElementsBy","_xmlDoc$getElementsBy2","_xmlDoc$getElementsBy3","_xmlDoc$getElementsBy4","_xmlDoc$getElementsBy5","_xmlDoc$getElementsBy6","_xmlDoc$getElementsBy7","_xmlDoc$getElementsBy8","_xmlDoc$getElementsBy9","_xmlDoc$getElementsBy10","_xmlDoc$getElementsBy11","_xmlDoc$getElementsBy12","city","id","textContent","name","coordinates","x","y","creationDate","Date","area","population","metersAboveSeaLevel","establishmentDate","capital","government","governor","height","birthday","human","Array","from","map","humanElement","_humanElement$getElem","_humanElement$getElem2","prev","error","console","direction","spacing","children","variant","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/irinaabakumova/Downloads/Laba/frontend/src/Components/GetGovernmentButton.tsx"],"sourcesContent":["import * as React from 'react';\nimport Button from '@mui/material/Button';\nimport Stack from '@mui/material/Stack';\nimport { City } from '../models/City';\nimport {useState} from 'react';\n\ninterface ButtonsProps {\n  inputValue: string;\n  onCityUpdate: (city: City[]) => void; \n}\n\nconst GetGovernmentButton: React.FC<ButtonsProps> = ({ inputValue, onCityUpdate }) => {\n  const [cities, setCities] = useState<City[]>([]);\n\n    const handleButtonClick = async () => {\n    try {\n      const response = await fetch(`https://localhost:7171/soa-service/api/external/government?type=${inputValue}`);\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      const xmlText = await response.text(); \n      const parser = new DOMParser();\n      const xmlDoc = parser.parseFromString(xmlText, \"text/xml\"); \n      const ids = xmlDoc.getElementsByTagName(\"id\");\n      const n = ids.length;\n      for (var i = 0; i < n; i++){\n        const city: City = {\n          id: xmlDoc.getElementsByTagName(\"id\")[i]?.textContent || '',\n          name: xmlDoc.getElementsByTagName(\"name\")[i]?.textContent || '',\n          coordinates: {\n            x: xmlDoc.getElementsByTagName(\"x\")[i]?.textContent || '0',\n            y: xmlDoc.getElementsByTagName(\"y\")[i]?.textContent || '0',\n          },\n          creationDate: new Date(xmlDoc.getElementsByTagName(\"creationDate\")[i].textContent || 0),\n          area: xmlDoc.getElementsByTagName(\"area\")[i]?.textContent || '0',\n          population: xmlDoc.getElementsByTagName(\"population\")[i]?.textContent || '0',\n          metersAboveSeaLevel: xmlDoc.getElementsByTagName(\"metersAboveSeaLevel\")[i]?.textContent || '0',\n          establishmentDate: new Date(xmlDoc.getElementsByTagName(\"establishmentDate\")[i]?.textContent || 0),\n          capital: xmlDoc.getElementsByTagName(\"capital\")[i]?.textContent === 'true',\n          government: xmlDoc.getElementsByTagName(\"government\")[i]?.textContent || '', \n          governor: {\n            height: xmlDoc.getElementsByTagName(\"height\")[i]?.textContent || '0',\n            birthday: new Date(xmlDoc.getElementsByTagName(\"birthday\")[i]?.textContent || 0),\n          },\n          human: Array.from(xmlDoc.getElementsByTagName(\"inhabitant\")).map(humanElement => ({\n            height: humanElement.getElementsByTagName(\"height\")[0]?.textContent || '0',\n            birthday: new Date(humanElement.getElementsByTagName(\"birthday\")[0]?.textContent || 0),\n          })),\n      }\n      setCities((prev) => [...prev, ...[city]]);\n      };\n      onCityUpdate(cities);\n      \n    } catch (error) {\n      console.error('Error fetching city data:', error);\n    }\n  };\n  return (\n    <Stack direction=\"row\" spacing={2}>\n      <Button variant=\"outlined\" onClick={handleButtonClick}>Города c government меньше заданного</Button>\n    </Stack>\n  );\n}\nexport default GetGovernmentButton;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}